# Create 4096-bit long RSA key for our Root CA and store it in ca.key
openssl genrsa -out ca.key 4096

# Create a self-signed root CA certificate ca.crt
openssl req -new -x509 -days 1826 -config openssl-ca.config -key ca.key -out ca.crt

# Create key for subordinate CA
openssl genrsa -out ia.key 4096

# Create a certificate request 
openssl req -new -config openssl-uk-ljfw0f72.config -key ia.key -out ia.csr

# Process the certificate request for the subordinate using the root CA
openssl x509 -req -days 730 -in ia.csr -CA ca.crt -CAkey ca.key -set_serial 01 -out ia.crt

# Package keys and certs in a PKCS12 File
openssl pkcs12 -export -out ia.p12 -inkey ia.key -in ia.crt -chain -CAfile ca.crt





